<div class="container">
  <div class="row">
    <div class="user-form" *ngIf="showForm">
      <form [formGroup]="userForm" (ngSubmit)="saveUser()">
        <h3>{{ formTitle }}</h3>

        <div class="form-group">
          <label for="userId">ID:</label>
          <input id="userId" type="number"formControlName="id"class="form-control"placeholder="Enter ID"
            [class.is-invalid]="userForm.get('id')?.invalid && userForm.get('id')?.touched"/>
          <div class="invalid-feedback" *ngIf="userForm.get('id')?.invalid && userForm.get('id')?.touched">
            {{ getErrorMessage('id') }}
          </div>
        </div>

        <div class="form-group">
          <label for="userName">Name:</label>
          <input  id="userName"type="text"formControlName="name"
            class="form-control"placeholder="Enter name" [class.is-invalid]="userForm.get('name')?.invalid && userForm.get('name')?.touched"/>
          <div class="invalid-feedback" *ngIf="userForm.get('name')?.invalid && userForm.get('name')?.touched">
            {{ getErrorMessage('name') }}
          </div>
        </div>

        <div class="form-group">
          <label for="userEmail">Email:</label>
          <input id="userEmail" type="email" formControlName="email" class="form-control"placeholder="Enter email"
            [class.is-invalid]="userForm.get('email')?.invalid && userForm.get('email')?.touched"/>
          <div class="invalid-feedback" *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched">
            {{ getErrorMessage('email') }}
          </div>
        </div>

        <div class="form-group">
          <label for="userRole">Role:</label>
          <select
            id="userRole"formControlName="role"class="form-control"
            [class.is-invalid]="userForm.get('role')?.invalid && userForm.get('role')?.touched">
            <option value="">Select Role</option>
            <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
          </select>
          <div class="invalid-feedback" *ngIf="userForm.get('role')?.invalid && userForm.get('role')?.touched">
            {{ getErrorMessage('role') }}
          </div>
        </div>

        <div class="form-actions">
          <button type="submit"class="btn btn-primary" [disabled]="userForm.invalid || isSubmitting">
            {{ isSubmitting ? 'Saving...' : (isEditMode ? 'Update' : 'Save') }}
          </button>
          <button
            type="button"class="btn btn-secondary"(click)="closeForm()"[disabled]="isSubmitting">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>